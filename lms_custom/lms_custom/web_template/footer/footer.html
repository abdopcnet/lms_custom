<!-- Newsletter Section -->
<div class="newsletter-section">
	<div class="container">
		<div class="row align-items-center">
			<div class="col-lg-6 mb-4 mb-lg-0">
				<h3 class="newsletter-title">{{ _("Subscribe to Our Newsletter") }}</h3>
				<p class="newsletter-subtitle">
					{{ _("Stay updated with our latest courses and news") }}
				</p>
			</div>
			<div class="col-lg-6">
				<form class="newsletter-form" id="newsletter-form">
					<div class="newsletter-input-group">
						<input
							type="email"
							class="newsletter-input"
							placeholder="{{ _('Your email address...') }}"
							required
							name="email"
							id="newsletter-email"
						/>
						<button type="submit" class="newsletter-button">
							{{ _("Get Updates") }}
							<i class="fa fa-paper-plane ml-2"></i>
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<!-- Footer Section -->
<footer class="custom-footer">
	<div class="footer-main">
		<div class="container">
			<div class="row">
				<!-- About Column -->
				<div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
					<div class="footer-widget">
						{% set footer_logo = frappe.db.get_single_value('Website Settings',
						'footer_logo') %} {% if footer_logo %}
						<div class="footer-logo mb-3">
							<img
								src="{{ footer_logo }}"
								alt="{{ _('Company Logo') }}"
								class="footer-logo-img"
							/>
						</div>
						{% endif %}
						<h4 class="footer-widget-title">{{ _("About Us") }}</h4>
						<p class="footer-about-text">
							{{ _("We provide professional training and certification programs to
							help individuals and organizations achieve their goals.") }}
						</p>
					</div>
				</div>

				<!-- Quick Links Column -->
				<div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
					<div class="footer-widget">
						<h4 class="footer-widget-title">{{ _("Quick Links") }}</h4>
						<ul class="footer-links">
							<li><a href="/courses">{{ _("Courses") }}</a></li>
							<li><a href="/batches">{{ _("Batches") }}</a></li>
							<li><a href="/about">{{ _("About") }}</a></li>
							<li><a href="/statistics">{{ _("Statistics") }}</a></li>
							<li><a href="/testimonials">{{ _("Testimonials") }}</a></li>
						</ul>
					</div>
				</div>

				<!-- Support Column -->
				<div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
					<div class="footer-widget">
						<h4 class="footer-widget-title">{{ _("Support") }}</h4>
						<ul class="footer-links">
							<li><a href="/help">{{ _("Help Center") }}</a></li>
							<li><a href="/faq">{{ _("FAQ") }}</a></li>
							<li><a href="/privacy">{{ _("Privacy Policy") }}</a></li>
							<li><a href="/terms">{{ _("Terms of Service") }}</a></li>
							<li><a href="/contact">{{ _("Contact Us") }}</a></li>
						</ul>
					</div>
				</div>

				<!-- Contact Column -->
				<div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
					<div class="footer-widget">
						<h4 class="footer-widget-title">{{ _("Contact Info") }}</h4>
						<ul class="footer-contact-info">
							{% if frappe.db.get_single_value('Website Settings', 'address') %}
							<li>
								<i class="fa fa-map-marker-alt"></i>
								<span
									>{{ frappe.db.get_single_value('Website Settings', 'address')
									}}</span
								>
							</li>
							{% else %}
							<li>
								<i class="fa fa-map-marker-alt"></i>
								<span>{{ _("RIYADH, Jeddah, Dammam - KSA") }}</span>
							</li>
							{% endif %}
							<li>
								<i class="fa fa-envelope"></i>
								<a href="mailto:khaled@alsulmicpa.com">khaled@alsulmicpa.com</a>
							</li>
							<li>
								<i class="fa fa-phone"></i>
								<a href="tel:+966560229188">+966 56 022 9188</a>
							</li>
						</ul>
						<div class="footer-social-links">
							<a href="#" class="footer-social-link" aria-label="Facebook">
								<i class="fab fa-facebook-f"></i>
							</a>
							<a href="#" class="footer-social-link" aria-label="Twitter">
								<i class="fab fa-twitter"></i>
							</a>
							<a href="#" class="footer-social-link" aria-label="LinkedIn">
								<i class="fab fa-linkedin-in"></i>
							</a>
							<a href="#" class="footer-social-link" aria-label="Instagram">
								<i class="fab fa-instagram"></i>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Footer Bottom -->
	<div class="footer-bottom">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-md-6 text-center text-md-left mb-3 mb-md-0">
					<p class="footer-copyright">
						{% if frappe.db.get_single_value('Website Settings', 'copyright') %} {{
						frappe.db.get_single_value('Website Settings', 'copyright') }} {% else %}
						&copy; {{ frappe.utils.nowdate().split('-')[0] }} {{ _("All rights
						reserved.") }} {% endif %}
					</p>
				</div>
				<div class="col-md-6 text-center text-md-right">
					<p class="footer-credits">
						{% set footer_powered = frappe.db.get_single_value('Website Settings',
						'footer_powered') %} {% if footer_powered %} {{ footer_powered }} {% else
						%} {{ _("Powered by") }}
						<a href="https://frappeframework.com" target="_blank">Frappe</a>
						{% endif %}
					</p>
				</div>
			</div>
		</div>
	</div>
</footer>

<script>
	// Frontend logging: console.log('[footer.html] method: newsletter_subscription')

	document.addEventListener('DOMContentLoaded', function () {
		const newsletterForm = document.getElementById('newsletter-form');

		if (newsletterForm) {
			newsletterForm.addEventListener('submit', function (e) {
				e.preventDefault();

				const emailInput = document.getElementById('newsletter-email');
				const email = emailInput.value.trim();

				if (!email) {
					frappe.show_alert(
						{
							message: __('Please enter your email address'),
							indicator: 'red',
						},
						5,
					);
					return;
				}

				// Call server method to subscribe
				frappe.call({
					method: 'lms_custom.api.subscribe_newsletter',
					args: {
						email: email,
					},
					callback: function (r) {
						if (r.message && r.message.success) {
							frappe.show_alert(
								{
									message: __('Successfully subscribed to newsletter!'),
									indicator: 'green',
								},
								5,
							);
							emailInput.value = '';
						}
					},
					error: function (err) {
						frappe.show_alert(
							{
								message: __('Failed to subscribe. Please try again.'),
								indicator: 'red',
							},
							5,
						);
						console.log('[footer.html] method: newsletter_subscription');
					},
				});
			});
		}
	});
</script>
