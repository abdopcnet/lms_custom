<!-- hero section start -->
<section class="hero">
	{%- set slideshow = frappe.get_doc('Website Slideshow', 'Hero Section') -%} {%- set slides =
	slideshow.slideshow_items -%} {%- set slideshow_id = 'hero-slideshow' -%} {{ slideshow.header
	or '' }}

	<div id="{{ slideshow_id }}" class="carousel slide hero-slideshow" data-ride="carousel">
		<!-- Wrapper for slides -->
		<div class="carousel-inner hero-carousel-inner">
			{% for slide in slides %}
			<div class="{% if slide.idx == 1 %} active {% endif %} item carousel-item hero-slide">
				<div class="hero-slide-image">
					<img
						class="d-block w-100"
						src="{{ slide.image }}"
						alt="{{ slide.heading or 'Slide' }}"
					/>
					<div class="hero-overlay"></div>
				</div>
			</div>
			{% endfor %}
		</div>

		<!-- Controls positioned at bottom-right -->
		<div class="hero-controls-bottom-right">
			<!-- Left and Right Controls (Arrows) -->
			<a
				class="carousel-control-custom carousel-control-prev"
				href="#{{ slideshow_id }}"
				role="button"
				data-slide="prev"
			>
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="sr-only">{{ _("Previous") }}</span>
			</a>

			<!-- Indicators (dots) -->
			<ol class="carousel-indicators-custom">
				{% for slide in slides %}
				<li
					data-target="#{{ slideshow_id }}"
					data-slide-to="{{ slide.idx - 1 }}"
					class="{% if slide.idx == 1 %}active{% endif %}"
				></li>
				{% endfor %}
			</ol>

			<a
				class="carousel-control-custom carousel-control-next"
				href="#{{ slideshow_id }}"
				role="button"
				data-slide="next"
			>
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="sr-only">{{ _("Next") }}</span>
			</a>
		</div>

		<!-- CTA Content Overlay -->
		<div class="hero-content">
			<div class="hero-content-inner">
				{% for slide in slides %}
				<div
					class="hero-text-slide {% if slide.idx == 1 %}active{% endif %}"
					data-slide-index="{{ slide.idx - 1 }}"
				>
					{% if slide.heading %}
					<h1 class="hero-heading">{{ slide.heading }}</h1>
					{% endif %} {% if slide.description %}
					<p class="hero-description">{{ slide.description }}</p>
					{% endif %}
					<div class="hero-cta-buttons">
						{% if slide.url %}
						<a href="{{ slide.url }}" class="btn btn-primary btn-lg"
							>{{ _("Learn More") }}</a
						>
						{% endif %}
						<a href="/courses" class="btn btn-outline-light btn-lg"
							>{{ _("View Courses") }}</a
						>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
	</div>

	<script>
		frappe.ready(function () {
			var carousel = $('#{{ slideshow_id }}');
			carousel.carousel({
				interval: 5000,
				keyboard: true,
				pause: 'hover',
			});

			// Sync text slides and dots with image slides
			carousel.on('slide.bs.carousel', function (e) {
				var nextIndex = $(e.relatedTarget).index();

				// Update text slides
				$('.hero-text-slide').removeClass('active');
				$('.hero-text-slide[data-slide-index="' + nextIndex + '"]').addClass('active');

				// Update dots/indicators
				$('.carousel-indicators-custom li').removeClass('active');
				$('.carousel-indicators-custom li[data-slide-to="' + nextIndex + '"]').addClass(
					'active',
				);
			});
		});
	</script>
</section>
<!-- hero section end -->
